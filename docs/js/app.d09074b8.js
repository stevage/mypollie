(function(e){function t(t){for(var r,i,d=t[0],u=t[1],c=t[2],l=0,f=[];l<d.length;l++)i=d[l],a[i]&&f.push(a[i][0]),a[i]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);s&&s(t);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,d=1;d<n.length;d++){var u=n[d];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var d=window["webpackJsonp"]=window["webpackJsonp"]||[],u=d.push.bind(d);d.push=t,d=d.slice();for(var c=0;c<d.length;c++)t(d[c]);var s=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("64a9"),a=n.n(r);a.a},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[e._m(0),n("div",{attrs:{id:"middle"}},[n("div",{attrs:{id:"sidebar"}},[n("BoundaryType"),n("BoundaryInfo")],1),n("div",{attrs:{id:"map-container"}},[n("Map")],1)]),n("div",{attrs:{id:"bottom"}})])},o=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"top"}},[n("h1",[n("div",{attrs:{id:"logo"}}),e._v("MyPollie")])])}],i=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},d=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"super-container"}},[n("div",{attrs:{id:"map-div"}}),n("div",{attrs:{id:"crosshair"}})])}],u=n("db0c"),c=n.n(u),s=(n("ac6a"),n("e192")),l=n.n(s),f=n("8936"),p=n.n(f),v=n("885b"),y=n.n(v),b=n("bc3a"),m=n.n(b),h={methods:{setBoundaryType:function(e){var t={federal:"elb-boundaries",state:["sed-boundaries","sed-fill"]};c()(t).forEach(this.map.U.hide),this.map.U.show(t[e])}},mounted:function(){var e=this;l.a.accessToken="pk.eyJ1Ijoic3RldmFnZSIsImEiOiJGcW03aExzIn0.QUkUmTGIO3gGt83HiRIjQw";var t=new l.a.Map({container:"map-div",center:[145,-37.8],zoom:12,style:"mapbox://styles/mapbox/light-v9"});this.map=t,p.a.init(t),t.addControl(new y.a({accessToken:l.a.accessToken})),t.addControl(new l.a.GeolocateControl({positionOptions:{enableHighAccuracy:!0},trackUserLocation:!0})),t.U.onLoad(function(){_(t),e.setBoundaryType("federal")}),t.on("moveend",function(e){var n=t.getCenter(),r=n.lng,a=n.lat,o=window.BoundaryType.current;if(window.BoundaryInfo.boundary=void 0,"federal"===o)m.a.get("https://which-boundary.glitch.me/lookup/elb/".concat(r,",").concat(a)).then(function(e){var t=e.data;console.log(t),window.BoundaryInfo.boundary=t});else if("state"===o){var i=document.getElementById("map-div"),d=t.queryRenderedFeatures([i.offsetWidth/2,i.offsetHeight/2],{layers:["sed-fill"]})[0];d&&(window.BoundaryInfo.boundary={name:d.properties.SED_NAME})}}),window.map=t,window.Map=this}};function _(e){e.U.addVector("elb","https://vector-tiles.terria.io/FID_COM20160509_ELB/{z}/{x}/{y}.pbf").addLine("elb-boundaries",{sourceLayer:"FID_COM20160509_ELB",lineColor:"darkblue"}),e.U.addVector("sed","https://vector-tiles.terria.io/FID_SED_2011_AUST/{z}/{x}/{y}.pbf").addLine("sed-boundaries",{sourceLayer:"FID_SED_2011_AUST",lineColor:"darkred"}).addFill("sed-fill",{sourceLayer:"FID_SED_2011_AUST",fillColor:"transparent"})}n("ac6d"),n("c307");var w=h,g=(n("5b98"),n("2877")),B=Object(g["a"])(w,i,d,!1,null,"ef0bb5ca",null);B.options.__file="Map.vue";var I=B.exports,O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"boundary-info"}},[n("br"),e._v("Selected boundary:"),n("h3",{staticClass:"boundary-name"},[e._v(e._s(e.boundaryName))])])},T=[],x=(n("7f7f"),{data:function(){return{boundary:void 0}},computed:{boundaryName:function(){return this.boundary&&this.boundary.name.toLowerCase()}},created:function(){window.BoundaryInfo=this}}),E=x,S=(n("61a4"),Object(g["a"])(E,O,T,!1,null,"ff6ccb52",null));S.options.__file="BoundaryInfo.vue";var j=S.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"boundary-type"}},[e._v("Boundary type:"),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.current,expression:"current"}],attrs:{id:"type-federal",type:"radio",value:"federal"},domProps:{checked:e._q(e.current,"federal")},on:{change:function(t){e.current="federal"}}}),n("label",{attrs:{for:"type-federal"}},[e._v("Federal")]),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.current,expression:"current"}],attrs:{id:"type-state",type:"radio",value:"state"},domProps:{checked:e._q(e.current,"state")},on:{change:function(t){e.current="state"}}}),n("label",{attrs:{for:"type-state"}},[e._v("State")])])},M=[],C={created:function(){window.BoundaryType=this},data:function(){return{current:"federal"}},watch:{current:function(e){window.Map.setBoundaryType(e)}}},U=C,L=Object(g["a"])(U,k,M,!1,null,"5d9f2af0",null);L.options.__file="BoundaryType.vue";var D=L.exports,F={name:"app",components:{Map:I,BoundaryInfo:j,BoundaryType:D}},P=F,$=(n("034f"),Object(g["a"])(P,a,o,!1,null,null,null));$.options.__file="App.vue";var A=$.exports;r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(A)}}).$mount("#app")},"5b98":function(e,t,n){"use strict";var r=n("aa07"),a=n.n(r);a.a},"61a4":function(e,t,n){"use strict";var r=n("ea26"),a=n.n(r);a.a},"64a9":function(e,t,n){},aa07:function(e,t,n){},ea26:function(e,t,n){}});
//# sourceMappingURL=app.d09074b8.js.map